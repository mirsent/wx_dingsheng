require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([4],{34:function(e,t,i){"use strict";var a=l(i(0)),s=l(i(35));function l(e){return e&&e.__esModule?e:{default:e}}new a.default(s.default).$mount()},35:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(37),s=i.n(a),l=i(38),n=!1;var r=function(e){n||i(36)},o=i(1)(s.a,l.a,r,null,null);o.options.__file="F:\\project\\DingSheng\\pages\\order\\order.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] order.vue: functional components are not supported with templates, they should use render functions."),t.default=o.exports},36:function(e,t){},37:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i=null;t.default={data:function(){return{previewShow:!1,previewUrl:"",demandList:[],proList:[],standardList:[],originList:[],unitList:[],supply:"",sLocation:"",sFax:"",sTel:"",sBank:"",sAccount:"",sDate:"",demand:"",dFax:"",dTel:"",dLocation:"",proName:"",proStandard:"",proOrigin:"",proUnit:"",proNumber:"",proUnitPrice:"",proAmount:"",proCapitalAmount:"",proPackage:"",proContractExp:"2018年9月18日至2018年9月19日",proPriceExp:"2018年9月18日至2018年9月19日"}},onLoad:function(){var t=this;e.showLoading(),i=e.createCanvasContext("canvas"),e.request({url:this.$requestUrl+"get_order_info",method:"GET",success:function(e){var i=e.data.data;t.sFax=i.company.fax,t.supply=i.bill.company_name,t.sLocation=i.bill.location,t.sTel=i.bill.tel,t.sBank=i.bill.bank,t.sAccount=i.bill.account,t.sDate=i.today,t.demandList=i.demand,t.proList=i.product,t.standardList=i.standard,t.originList=i.origin,t.unitList=i.unit},fail:function(){},complete:function(){e.hideLoading()}})},methods:{createTable:function(){var t=this;e.showLoading();var a=this;e.request({url:a.$requestUrl+"convertUp",method:"POST",header:{"content-type":"application/x-www-form-urlencoded"},data:{demand:a.demand,tel:a.dTel,location:a.dLocation,product:a.proName,standard:a.proStandard,origin:a.proOrigin,unit:a.proUnit,package:a.proPackage,number:a.proNumber,unit_price:a.proUnitPrice},success:function(s){e.hideLoading();var l=s.data.data;a.proAmount=l.amount,a.proCapitalAmount=l.capital_amount;i.setStrokeStyle("#ff0000"),i.setFontSize(20),i.setTextAlign("center"),i.fillText("购销合同",400,50),i.setFontSize(16),i.setTextAlign("left"),i.fillText("供方："+t.supply,30,100),i.setTextAlign("right"),i.fillText("需方："+t.demand,770,100),i.setTextAlign("left"),i.fillText("签字双方同意就以下条款达成交易：",30,130),i.fillText("一、",30,160),i.fillText("名称、数量、金额：",70,160),i.fillText("二、",30,310),i.fillText("质量标准：",70,310),i.fillText("按国家标准质量指标。",70,340),i.fillText("三、",30,370),i.fillText("交货地点：",70,370),i.fillText("供方仓库，供方待办运输，经协商运费由供方承担。",70,400),i.fillText("四、",30,430),i.fillText("交货时间：",70,430),i.fillText("需方办好电汇并传真给供方，电汇到账户后安排发货。",70,460),i.fillText("五、",30,490),i.fillText("包装：",70,490),i.fillText(t.proPackage+"，包装不回收。",70,520),i.fillText("六、",30,550),i.fillText("结算方式：",70,550),i.fillText("电汇结算。",70,580),i.fillText("七、",30,610),i.fillText("解决合同纠纷的方式：",70,610),i.fillText("友好协商，如协商不成，一方可向法院申请裁决。",70,640),i.fillText("八、",30,670),i.fillText("验收：",70,670),i.fillText("货至需方，需方检验货物合格后收货。",70,700),i.fillText("九、",30,730),i.fillText("有效期：",70,730),i.fillText("合同经双方盖章后生效，合同有效期："+t.proContractExp+"; ",70,760),i.fillText("价格有效期："+t.proPriceExp+"。",70,790),i.fillText("十、",30,820),i.fillText("其他约定事项：",70,820),i.fillText("如确认无误，请于一个工作日内盖章回传。",70,850),i.fillText("供方："+t.supply,30,910),i.fillText("需方："+t.demand,500,910),i.fillText("地址："+t.sLocation,30,940),i.fillText("传真："+t.dFax,500,940),i.fillText("传真："+t.sFax,30,970),i.fillText("电话："+t.dTel,500,970),i.fillText("电话："+t.sTel,30,1e3),i.fillText("开户行："+t.sBank,30,1030),i.fillText("账号："+t.sAccount,30,1060),i.fillText("日期："+t.sDate,30,1090),i.fillText("日期："+t.sDate,500,1090),i.moveTo(342,765),i.lineTo(585,765),i.stroke(),i.moveTo(165,795),i.lineTo(408,795),i.stroke(),i.setStrokeStyle("Black"),i.setLineWidth(1),i.strokeRect(30,190,740,90),i.moveTo(30,220),i.lineTo(770,220),i.stroke(),i.moveTo(30,250),i.lineTo(770,250),i.stroke(),i.moveTo(190,190),i.lineTo(190,280),i.stroke(),i.moveTo(410,190),i.lineTo(410,250),i.stroke(),i.moveTo(482,190),i.lineTo(482,250),i.stroke(),i.moveTo(554,190),i.lineTo(554,250),i.stroke(),i.moveTo(626,190),i.lineTo(626,250),i.stroke(),i.moveTo(698,190),i.lineTo(698,250),i.stroke(),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("产品名称",110,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("规格",300,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("产地",446,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("单位",518,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("数量",590,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("单价",662,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("金额",734,205),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proName,110,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proStandard,300,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proOrigin,446,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proUnit,518,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proNumber,590,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proUnitPrice,662,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText(t.proAmount,734,235),i.setTextAlign("center"),i.setTextBaseline("middle"),i.fillText("合计金额(大写)",110,265),i.setTextAlign("left"),i.setTextBaseline("middle"),i.fillText(t.proCapitalAmount,220,265),i.draw(),e.canvasToTempFilePath({canvasId:"canvas",fileType:"jpg",success:function(e){console.log(e.tempFilePath),a.previewUrl=e.tempFilePath,a.previewShow=!0}})},fail:function(){}})},saveImg:function(){var t=this;e.saveImageToPhotosAlbum({filePath:t.previewUrl,success:function(){t.previewShow=!1,console.log("save success"),e.showToast({title:"保存成功！",mask:!1,duration:1500})}})},demandChange:function(t){var i=this;this.demand=this.demandList[t.detail.value],e.request({url:this.$requestUrl+"get_demand_by_name",method:"GET",data:{demand_name:this.demandList[t.detail.value]},success:function(e){var t=e.data.data;i.dFax=t.fax,i.dLocation=t.location,i.dTel=t.tel},fail:function(){},complete:function(){}})},proChange:function(e){this.proName=this.proList[e.detail.value]},standardChange:function(e){this.proStandard=this.standardList[e.detail.value]},originChange:function(e){this.proOrigin=this.originList[e.detail.value]},unitChange:function(e){this.proUnit=this.unitList[e.detail.value]},packageChange:function(e){this.proPackage=e.detail.value},numberChange:function(e){this.proNumber=e.detail.value},unitPriceChange:function(e){this.proUnitPrice=e.detail.value},dateChange:function(e){var t=e.detail.value.split("-");this.sDate=parseInt(t[0])+"年"+parseInt(t[1])+"月"+parseInt(t[2])+"日"}}}}).call(t,i(2).default)},38:function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("view",[i("view",{staticClass:"uni-list"},[i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("需方")]),i("input",{attrs:{type:"text",value:e.demand,placeholder:"请输入需方"}})]),i("picker",{staticClass:"picker-item",attrs:{mode:"selector",range:e.demandList,eventid:"LKm-0"},on:{change:e.demandChange}},[i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("需方电话")]),i("input",{attrs:{type:"text",value:e.dTel,placeholder:"请输入需方电话"}})])])]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("需方地址")]),i("input",{attrs:{type:"text",value:e.dLocation,placeholder:"请输入需方地址"}})])])]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("产品名称")]),i("input",{attrs:{type:"text",value:e.proName,placeholder:"请输入产品名称"}})]),i("picker",{staticClass:"picker-item",attrs:{mode:"selector",range:e.proList,eventid:"w2I-1"},on:{change:e.proChange}},[i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("规格")]),i("input",{attrs:{type:"text",value:e.proStandard,placeholder:"请输入规格"}})]),i("picker",{staticClass:"picker-item",attrs:{mode:"selector",range:e.standardList,eventid:"R0P-2"},on:{change:e.standardChange}},[i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("产地")]),i("input",{attrs:{type:"text",value:e.proOrigin,placeholder:"请输入产地"}})]),i("picker",{staticClass:"picker-item",attrs:{mode:"selector",range:e.originList,eventid:"Gqg-3"},on:{change:e.originChange}},[i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("单位")]),i("input",{attrs:{type:"text",value:e.proUnit,placeholder:"请输入单位"}})]),i("picker",{staticClass:"picker-item",attrs:{mode:"selector",range:e.unitList,eventid:"VP3-4"},on:{change:e.unitChange}},[i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("包装")]),i("input",{attrs:{type:"text",value:"",placeholder:"请输入包装",eventid:"r18-5"},on:{blur:e.packageChange}})])])]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("数量")]),i("input",{attrs:{type:"number",value:"",placeholder:"请输入数量",eventid:"rvB-6"},on:{blur:e.numberChange}})])])]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[i("view",{staticClass:"input-group"},[i("text",[e._v("单价")]),i("input",{attrs:{type:"number",value:"",placeholder:"请输入单价",eventid:"7xC-7"},on:{blur:e.unitPriceChange}})])])]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[e._m(0),i("picker",{staticClass:"picker-item picker-time",attrs:{mode:"date",eventid:"qCL-8"},on:{change:e.contractExpChange}},[i("view",{staticClass:"picker-box",staticStyle:{display:"flex"}},[i("input",{attrs:{type:"text",value:e.proContractExp,placeholder:"请选择日期",disabled:""}}),i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[e._m(1),i("picker",{staticClass:"picker-item picker-time",attrs:{mode:"date",eventid:"vcw-9"},on:{change:e.priceExpChange}},[i("view",{staticClass:"picker-box",staticStyle:{display:"flex"}},[i("input",{attrs:{type:"text",value:e.proPriceExp,placeholder:"请选择日期",disabled:""}}),i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])])],1)]),i("view",{staticClass:"uni-list-cell"},[i("view",{staticClass:"uni-list-cell-navigate"},[e._m(2),i("picker",{staticClass:"picker-item picker-time",attrs:{mode:"date",eventid:"jAE-10"},on:{change:e.dateChange}},[i("view",{staticClass:"picker-box",staticStyle:{display:"flex"}},[i("input",{attrs:{type:"text",value:e.sDate,placeholder:"请选择日期",disabled:""}}),i("image",{staticClass:"icon",attrs:{src:"../../static/image/select.png",mode:""}})])])],1)])]),i("button",{attrs:{type:"primary",eventid:"WnW-11"},on:{tap:e.createTable}},[e._v("制作")]),i("canvas",{staticClass:"canvas-element",attrs:{"canvas-id":"canvas"}}),i("view",{directives:[{name:"show",rawName:"v-show",value:e.previewShow,expression:"previewShow"}],staticClass:"mask"},[i("view",{staticClass:"preview"},[i("image",{attrs:{src:e.previewUrl,mode:"widthFix"}}),i("button",{staticClass:"btn-save",attrs:{type:"primary",eventid:"ZhQ-12"},on:{tap:e.saveImg}},[e._v("保存")])],1)])],1)};a._withStripped=!0;var s={render:a,staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"input-group"},[t("text",[this._v("合同有效期")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"input-group"},[t("text",[this._v("价格有限期")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("view",{staticClass:"input-group"},[t("text",[this._v("合同日期")])])}]};t.a=s}},[34]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/order/order.js.map